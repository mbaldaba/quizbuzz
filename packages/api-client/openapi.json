{
  "openapi": "3.0.0",
  "paths": {
    "/hello": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Returns a hello message",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Hello World!"
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get hello message",
        "tags": [
          "app"
        ]
      }
    },
    "/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully logged in",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials"
          },
          "403": {
            "description": "Temporary users are not allowed to log in"
          }
        },
        "summary": "Login with username and password",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/session": {
      "get": {
        "operationId": "AuthController_getSession",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Current session details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized or session expired"
          }
        },
        "summary": "Get current session details",
        "tags": [
          "auth"
        ]
      }
    },
    "/auth/logout": {
      "post": {
        "operationId": "AuthController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully logged out"
          },
          "401": {
            "description": "No session found"
          }
        },
        "summary": "Logout and clear session",
        "tags": [
          "auth"
        ]
      }
    },
    "/questions": {
      "post": {
        "operationId": "QuestionsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateQuestionDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Question created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or validation error"
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Create a new question with choices",
        "tags": [
          "questions"
        ]
      },
      "get": {
        "operationId": "QuestionsController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (default: 1)",
            "schema": {
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Items per page (default: 10, max: 100)",
            "schema": {
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "type",
            "required": false,
            "in": "query",
            "description": "Filter by question type",
            "schema": {
              "enum": [
                "MULTIPLE_CHOICE",
                "TRUE_OR_FALSE",
                "IDENTIFICATION"
              ],
              "type": "string"
            }
          },
          {
            "name": "search",
            "required": false,
            "in": "query",
            "description": "Search in question description",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Paginated list of questions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedQuestionsResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Get paginated list of questions",
        "tags": [
          "questions"
        ]
      }
    },
    "/questions/{id}": {
      "get": {
        "operationId": "QuestionsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Question ID",
            "schema": {
              "example": "clxxx123456789",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Question not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Get a question by ID",
        "tags": [
          "questions"
        ]
      },
      "patch": {
        "operationId": "QuestionsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Question ID",
            "schema": {
              "example": "clxxx123456789",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateQuestionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Question updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/QuestionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input or validation error"
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Question not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Update a question and its choices",
        "tags": [
          "questions"
        ]
      },
      "delete": {
        "operationId": "QuestionsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Question ID",
            "schema": {
              "example": "clxxx123456789",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Question deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Question deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Question not found"
          },
          "409": {
            "description": "Cannot delete question that is used in rooms"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Delete a question",
        "tags": [
          "questions"
        ]
      }
    },
    "/rooms": {
      "post": {
        "operationId": "RoomsController_createRoom",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRoomDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Room successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Create a new room (Admin only)",
        "tags": [
          "rooms"
        ]
      },
      "get": {
        "operationId": "RoomsController_listRooms",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "perPage",
            "required": false,
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "minimum": 1,
              "default": 10,
              "example": 10,
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of rooms retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Get paginated list of rooms (Admin only)",
        "tags": [
          "rooms"
        ]
      }
    },
    "/rooms/{id}": {
      "delete": {
        "operationId": "RoomsController_deleteRoom",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Room ID",
            "schema": {
              "example": "clh1234567890",
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Room successfully deleted"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          },
          "404": {
            "description": "Room not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Delete a room (Admin only)",
        "tags": [
          "rooms"
        ]
      }
    },
    "/rooms/{id}/start": {
      "patch": {
        "operationId": "RoomsController_startRoom",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Room ID",
            "schema": {
              "example": "clh1234567890",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Room successfully started",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Room status must be CREATED"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          },
          "404": {
            "description": "Room not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Start a room (Admin only)",
        "tags": [
          "rooms"
        ]
      }
    },
    "/rooms/{id}/end": {
      "patch": {
        "operationId": "RoomsController_endRoom",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Room ID",
            "schema": {
              "example": "clh1234567890",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Room successfully ended",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoomResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Room status must be ONGOING"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden - Admin access required"
          },
          "404": {
            "description": "Room not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "End a room (Admin only)",
        "tags": [
          "rooms"
        ]
      }
    },
    "/participants/join": {
      "post": {
        "operationId": "ParticipantsController_joinRoom",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/JoinRoomDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successfully joined the room",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ParticipantResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid room password"
          },
          "404": {
            "description": "Room not found"
          }
        },
        "summary": "Join a room as a participant",
        "tags": [
          "participants"
        ]
      }
    },
    "/participants/leave": {
      "post": {
        "operationId": "ParticipantsController_leaveRoom",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successfully left the room"
          },
          "401": {
            "description": "No session found"
          }
        },
        "summary": "Leave a room (logout as participant)",
        "tags": [
          "participants"
        ]
      }
    },
    "/quizmaster/next-question": {
      "post": {
        "description": "Adds a random question that has not been used in the room yet. Room must be in ONGOING status.",
        "operationId": "QuizmasterController_nextQuestion",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NextQuestionDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Question successfully added to room",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NextQuestionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Room not in ONGOING status or no questions available"
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Room not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Add a random question from the question bank to a room",
        "tags": [
          "quizmaster"
        ]
      }
    },
    "/quizmaster/reveal-answer": {
      "post": {
        "description": "Reveals the correct answer, evaluates all submissions, and awards 1 point to the first correct answer. Broadcasts results via Socket.IO.",
        "operationId": "QuizmasterController_revealAnswer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RevealAnswerDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Answer revealed and scores updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RevealAnswerResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Question not active in room"
          },
          "401": {
            "description": "No session found or session expired"
          },
          "403": {
            "description": "Admin access required"
          },
          "404": {
            "description": "Room or question not found"
          }
        },
        "security": [
          {
            "sessionId": []
          }
        ],
        "summary": "Reveal the answer and calculate scores",
        "tags": [
          "quizmaster"
        ]
      }
    }
  },
  "info": {
    "title": "QuizBuzz API",
    "description": "The QuizBuzz API documentation",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "LoginDto": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "Username of the user",
            "example": "admin123"
          },
          "password": {
            "type": "string",
            "description": "Password of the user",
            "example": "password123"
          }
        },
        "required": [
          "username",
          "password"
        ]
      },
      "SessionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID",
            "example": "clxxxxxxxxxxxx"
          },
          "username": {
            "type": "string",
            "description": "Username",
            "example": "admin123"
          },
          "type": {
            "type": "string",
            "description": "User type",
            "enum": [
              "ADMIN",
              "TEMPORARY"
            ],
            "example": "ADMIN"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID",
            "example": "clxxxxxxxxxxxx"
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string",
            "description": "Session expiration timestamp",
            "example": "2025-12-07T12:00:00.000Z"
          }
        },
        "required": [
          "id",
          "username",
          "type",
          "sessionId",
          "expiresAt"
        ]
      },
      "QuestionChoiceDto": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "The text value of the choice",
            "example": "Paris"
          },
          "isCorrect": {
            "type": "boolean",
            "description": "Whether this choice is the correct answer (required for MULTIPLE_CHOICE and IDENTIFICATION, ignored for TRUE_OR_FALSE)",
            "example": true
          }
        },
        "required": [
          "value"
        ]
      },
      "CreateQuestionDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the question",
            "enum": [
              "MULTIPLE_CHOICE",
              "TRUE_OR_FALSE",
              "IDENTIFICATION"
            ],
            "example": "MULTIPLE_CHOICE"
          },
          "description": {
            "type": "string",
            "description": "The question text",
            "example": "What is the capital of France?"
          },
          "choices": {
            "description": "Array of choices. Must be 4 for MULTIPLE_CHOICE, 1 for IDENTIFICATION, 2 for TRUE_OR_FALSE (one \"True\" and one \"False\")",
            "example": [
              {
                "value": "Paris",
                "isCorrect": true
              },
              {
                "value": "London",
                "isCorrect": false
              },
              {
                "value": "Berlin",
                "isCorrect": false
              },
              {
                "value": "Madrid",
                "isCorrect": false
              }
            ],
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionChoiceDto"
            }
          }
        },
        "required": [
          "type",
          "description",
          "choices"
        ]
      },
      "QuestionChoiceResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the choice",
            "example": "clxxx123456789"
          },
          "value": {
            "type": "string",
            "description": "The text value of the choice",
            "example": "Paris"
          },
          "isCorrect": {
            "type": "boolean",
            "description": "Whether this choice is the correct answer",
            "example": true
          }
        },
        "required": [
          "id",
          "value",
          "isCorrect"
        ]
      },
      "QuestionUserInfoDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID",
            "example": "clxxx123456789"
          },
          "username": {
            "type": "string",
            "description": "Username",
            "example": "admin123"
          }
        },
        "required": [
          "id",
          "username"
        ]
      },
      "QuestionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the question",
            "example": "clxxx123456789"
          },
          "type": {
            "type": "string",
            "description": "Type of the question",
            "enum": [
              "MULTIPLE_CHOICE",
              "TRUE_OR_FALSE",
              "IDENTIFICATION"
            ],
            "example": "MULTIPLE_CHOICE"
          },
          "description": {
            "type": "string",
            "description": "The question text",
            "example": "What is the capital of France?"
          },
          "choices": {
            "description": "Array of choices for this question",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionChoiceResponseDto"
            }
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp when the question was created",
            "example": "2025-11-30T10:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp when the question was last updated",
            "example": "2025-11-30T12:00:00.000Z"
          },
          "createdBy": {
            "description": "User who created the question",
            "allOf": [
              {
                "$ref": "#/components/schemas/QuestionUserInfoDto"
              }
            ]
          },
          "updatedBy": {
            "description": "User who last updated the question",
            "allOf": [
              {
                "$ref": "#/components/schemas/QuestionUserInfoDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "type",
          "description",
          "choices",
          "createdAt",
          "updatedAt",
          "createdBy",
          "updatedBy"
        ]
      },
      "PaginationMetaDto": {
        "type": "object",
        "properties": {
          "page": {
            "type": "number",
            "description": "Current page number",
            "example": 1
          },
          "perPage": {
            "type": "number",
            "description": "Number of items per page",
            "example": 10
          },
          "total": {
            "type": "number",
            "description": "Total number of items",
            "example": 100
          },
          "totalPages": {
            "type": "number",
            "description": "Total number of pages",
            "example": 10
          },
          "hasNextPage": {
            "type": "boolean",
            "description": "Whether there is a next page",
            "example": true
          },
          "hasPreviousPage": {
            "type": "boolean",
            "description": "Whether there is a previous page",
            "example": false
          }
        },
        "required": [
          "page",
          "perPage",
          "total",
          "totalPages",
          "hasNextPage",
          "hasPreviousPage"
        ]
      },
      "PaginatedQuestionsResponseDto": {
        "type": "object",
        "properties": {
          "meta": {
            "$ref": "#/components/schemas/PaginationMetaDto"
          },
          "data": {
            "description": "Array of questions",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionResponseDto"
            }
          }
        },
        "required": [
          "meta",
          "data"
        ]
      },
      "UpdateQuestionDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the question",
            "enum": [
              "MULTIPLE_CHOICE",
              "TRUE_OR_FALSE",
              "IDENTIFICATION"
            ],
            "example": "MULTIPLE_CHOICE"
          },
          "description": {
            "type": "string",
            "description": "The question text",
            "example": "What is the capital of France?"
          },
          "choices": {
            "description": "Array of choices. Must be 4 for MULTIPLE_CHOICE, 1 for IDENTIFICATION, 2 for TRUE_OR_FALSE (one \"True\" and one \"False\")",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionChoiceDto"
            }
          }
        }
      },
      "CreateRoomDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the room",
            "example": "Math Quiz Room"
          },
          "maxPlayers": {
            "type": "number",
            "description": "Maximum number of players allowed in the room",
            "example": 10,
            "minimum": 1
          },
          "password": {
            "type": "string",
            "description": "Password for the room (optional)",
            "example": "secret123"
          }
        },
        "required": [
          "title",
          "maxPlayers"
        ]
      },
      "RoomResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Room ID",
            "example": "clh1234567890"
          },
          "title": {
            "type": "string",
            "description": "Title of the room",
            "example": "Math Quiz Room"
          },
          "maxPlayers": {
            "type": "number",
            "description": "Maximum number of players allowed",
            "example": 10
          },
          "status": {
            "type": "string",
            "description": "Current status of the room",
            "enum": [
              "CREATED",
              "ONGOING",
              "ENDED"
            ],
            "example": "CREATED"
          },
          "hasPassword": {
            "type": "boolean",
            "description": "Whether the room has a password",
            "example": true
          },
          "startedAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the room was started",
            "example": "2025-11-30T12:00:00.000Z",
            "nullable": true
          },
          "endedAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the room was ended",
            "example": "2025-11-30T14:00:00.000Z",
            "nullable": true
          },
          "createdById": {
            "type": "string",
            "description": "User ID who created the room",
            "example": "clh1234567890"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the room was created",
            "example": "2025-11-30T10:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "When the room was last updated",
            "example": "2025-11-30T12:00:00.000Z"
          }
        },
        "required": [
          "id",
          "title",
          "maxPlayers",
          "status",
          "hasPassword",
          "startedAt",
          "endedAt",
          "createdById",
          "createdAt",
          "updatedAt"
        ]
      },
      "JoinRoomDto": {
        "type": "object",
        "properties": {
          "roomId": {
            "type": "string",
            "description": "Room ID to join",
            "example": "clxxxxxxxxxxxx"
          },
          "nickname": {
            "type": "string",
            "description": "Nickname for the participant",
            "example": "JohnDoe"
          },
          "password": {
            "type": "string",
            "description": "Room password",
            "example": "password123"
          }
        },
        "required": [
          "roomId",
          "nickname",
          "password"
        ]
      },
      "ParticipantResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Participant ID",
            "example": "clxxxxxxxxxxxx"
          },
          "roomId": {
            "type": "string",
            "description": "Room ID",
            "example": "clxxxxxxxxxxxx"
          },
          "userId": {
            "type": "string",
            "description": "User ID",
            "example": "clxxxxxxxxxxxx"
          },
          "nickname": {
            "type": "string",
            "description": "Participant nickname",
            "example": "JohnDoe"
          },
          "token": {
            "type": "string",
            "description": "JWT token for authentication",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "expiresAt": {
            "format": "date-time",
            "type": "string",
            "description": "Session expiration timestamp",
            "example": "2025-12-07T12:00:00.000Z"
          }
        },
        "required": [
          "id",
          "roomId",
          "userId",
          "nickname",
          "token",
          "expiresAt"
        ]
      },
      "NextQuestionDto": {
        "type": "object",
        "properties": {
          "roomId": {
            "type": "string",
            "description": "Room ID to add the next question to",
            "example": "clhxyz123abc456"
          }
        },
        "required": [
          "roomId"
        ]
      },
      "NextQuestionResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "clhxyz123abc456"
          },
          "type": {
            "type": "string",
            "enum": [
              "MULTIPLE_CHOICE",
              "TRUE_OR_FALSE",
              "IDENTIFICATION"
            ],
            "example": "MULTIPLE_CHOICE"
          },
          "description": {
            "type": "string",
            "example": "What is the capital of France?"
          },
          "choices": {
            "description": "Available answer choices",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuestionChoiceDto"
            }
          },
          "roomId": {
            "type": "string",
            "example": "clhroom123"
          },
          "roomQuestionId": {
            "type": "string",
            "example": "clhroomq456"
          }
        },
        "required": [
          "id",
          "type",
          "description",
          "choices",
          "roomId",
          "roomQuestionId"
        ]
      },
      "RevealAnswerDto": {
        "type": "object",
        "properties": {
          "roomId": {
            "type": "string",
            "description": "Room ID",
            "example": "clhroom123"
          },
          "questionId": {
            "type": "string",
            "description": "Question ID",
            "example": "clhquestion456"
          }
        },
        "required": [
          "roomId",
          "questionId"
        ]
      },
      "RevealAnswerResponseDto": {
        "type": "object",
        "properties": {
          "questionId": {
            "type": "string",
            "example": "clhquestion456"
          },
          "revealed": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Answer revealed and scores updated"
          }
        },
        "required": [
          "questionId",
          "revealed",
          "message"
        ]
      }
    }
  }
}